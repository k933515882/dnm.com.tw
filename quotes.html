<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DM SENSE | ç·šä¸Šå ±åƒ¹ç³»çµ±</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --primary: #ff6b35; --dark: #1a1a2e; --light: #f8f9fa; }
        body { font-family: 'Noto Sans TC', sans-serif; background: var(--light); color: #333; padding-bottom: 100px; }
        header { background: var(--dark); color: #fff; padding: 20px; text-align: center; position: sticky; top: 0; z-index: 100; }
        header h1 { font-size: 22px; font-weight: 700; }
        header p { font-size: 13px; opacity: 0.8; margin-top: 5px; }
        .container { max-width: 600px; margin: 0 auto; padding: 16px; }
        .step { background: #fff; border-radius: 16px; padding: 20px; margin-bottom: 16px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); }
        .step-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; }
        .step-num { background: var(--primary); color: #fff; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 700; }
        .step-title { font-size: 18px; font-weight: 700; }
        .search-box { position: relative; margin-bottom: 16px; }
        .search-input { width: 100%; padding: 14px 20px 14px 48px; border: 2px solid #eee; border-radius: 12px; font-size: 16px; outline: none; }
        .search-input:focus { border-color: var(--primary); }
        .search-icon { position: absolute; left: 16px; top: 50%; transform: translateY(-50%; font-size: 18px; }
        .search-results { position: absolute; top: 100%; left: 0; right: 0; background: #fff; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); max-height: 320px; overflow-y: auto; z-index: 50; display: none; }
        .search-results.show { display: block; }
        .search-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; cursor: pointer; border-bottom: 1px solid #f0f0f0; }
        .search-item:hover { background: var(--light); }
        .search-item .brand-tag { min-width: 48px; height: 48px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 16px; color: #fff; }
        .search-item .info { flex: 1; }
        .search-item .name { font-weight: 600; font-size: 15px; }
        .search-item .type { font-size: 12px; color: #888; }
        .car-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .car-item { display: flex; flex-direction: column; align-items: center; padding: 14px 10px; background: var(--light); border-radius: 12px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s; }
        .car-item:hover { border-color: var(--primary); transform: translateY(-2px); }
        .car-item.selected { border-color: var(--primary); background: rgba(255,107,53,0.1); }
        .car-item .brand-tag { width: 56px; height: 56px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 18px; color: #fff; margin-bottom: 8px; }
        .car-item .name { font-size: 13px; font-weight: 600; text-align: center; }
        .car-item .type { font-size: 11px; color: #888; margin-top: 2px; }
        .service-group { margin-bottom: 18px; }
        .service-header { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; padding-left: 10px; border-left: 3px solid var(--primary); font-weight: 700; font-size: 15px; color: #555; }
        .service-options { display: grid; gap: 8px; }
        .service-opt { display: flex; justify-content: space-between; padding: 12px 14px; background: var(--light); border-radius: 10px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s; }
        .service-opt:hover { border-color: var(--primary); }
        .service-opt.selected { border-color: var(--primary); background: rgba(255,107,53,0.08); }
        .service-opt .name { font-size: 14px; font-weight: 500; }
        .service-opt .price { font-weight: 700; color: var(--primary); font-size: 14px; }
        .color-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .color-opt { display: flex; flex-direction: column; align-items: center; padding: 10px; background: var(--light); border-radius: 8px; cursor: pointer; border: 2px solid transparent; }
        .color-opt:hover { border-color: var(--primary); }
        .color-opt.selected { border-color: var(--primary); background: rgba(255,107,53,0.1); }
        .color-opt .name { font-size: 12px; font-weight: 600; }
        .film-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }
        .film-opt { padding: 12px; background: var(--light); border-radius: 10px; text-align: center; cursor: pointer; border: 2px solid transparent; }
        .film-opt:hover { border-color: var(--primary); }
        .film-opt.selected { border-color: var(--primary); background: rgba(255,107,53,0.1); }
        .film-opt .name { font-weight: 700; font-size: 14px; }
        .film-opt .desc { font-size: 11px; color: #888; margin-top: 3px; }
        .summary { position: fixed; bottom: 0; left: 0; right: 0; background: #fff; padding: 14px 20px; box-shadow: 0 -4px 20px rgba(0,0,0,0.1); z-index: 100; }
        .summary-btn { width: 100%; padding: 14px; background: var(--primary); color: #fff; border: none; border-radius: 25px; font-size: 16px; font-weight: 600; cursor: pointer; }
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: none; align-items: flex-end; z-index: 200; }
        .modal.show { display: flex; }
        .modal-content { background: #fff; border-radius: 20px 20px 0 0; width: 100%; max-height: 80vh; overflow-y: auto; padding: 20px; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
        .modal-header h2 { font-size: 18px; font-weight: 700; }
        .modal-close { width: 32px; height: 32px; background: var(--light); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .modal-item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #f0f0f0; }
        .modal-total { display: flex; justify-content: space-between; padding: 14px; background: var(--light); border-radius: 10px; font-size: 16px; font-weight: 700; margin: 16px 0; }
        .modal-total .price { color: var(--primary); }
        .modal-actions { display: grid; gap: 10px; }
        .modal-btn { display: block; padding: 14px; border-radius: 10px; text-align: center; text-decoration: none; font-weight: 600; }
        .modal-btn.line { background: #06c755; color: #fff; }
        .modal-btn.phone { background: var(--dark); color: #fff; }
    </style>
</head>
<body>
    <header>
        <h1>DM SENSE ç·šä¸Šå ±åƒ¹</h1>
        <p>é¸æ“‡è»Šå‹å’Œæœå‹™ï¼Œç«‹å³ç²å¾—å ±åƒ¹</p>
    </header>
    <div class="container">
        <div class="step">
            <div class="step-header">
                <span class="step-num">1</span>
                <span class="step-title">é¸æ“‡è»Šå‹</span>
            </div>
            <div class="search-box">
                <span class="search-icon">ğŸ”</span>
                <input type="text" class="search-input" id="search" placeholder="æœå°‹è»Šæ¬¾ï¼Œå¦‚ï¼š520ã€V60ã€C63ã€Model 3ã€Touring">
                <div class="search-results" id="results"></div>
            </div>
            <div class="car-grid" id="grid">
                <div class="car-item" data-b="ç‰¹æ–¯æ‹‰" data-m="Model 3"><div class="brand-tag" style="background:#e82127;">Tesla</div><div class="name">Tesla Model 3</div><div class="type">è½è»Š</div></div>
                <div class="car-item" data-b="ç‰¹æ–¯æ‹‰" data-m="Model Y"><div class="brand-tag" style="background:#e82127;">Tesla</div><div class="name">Tesla Model Y</div><div class="type">ä¼‘æ—…è»Š</div></div>
                <div class="car-item" data-b="BMW" data-m="5 Series"><div class="brand-tag" style="background:#0066b1;width:56px;font-size:14px;">BMW</div><div class="name">BMW 5 Series</div><div class="type">è½è»Š</div></div>
                <div class="car-item" data-b="BMW" data-m="X5"><div class="brand-tag" style="background:#0066b1;width:56px;font-size:14px;">BMW</div><div class="name">BMW X5</div><div class="type">ä¼‘æ—…è»Š</div></div>
                <div class="car-item" data-b="è³“å£«" data-m="C-Class"><div class="brand-tag" style="background:#000;width:56px;font-size:14px;">M.Benz</div><div class="name">è³“å£« C-Class</div><div class="type">è½è»Š</div></div>
                <div class="car-item" data-b="è³“å£«" data-m="GLC"><div class="brand-tag" style="background:#000;width:56px;font-size:14px;">M.Benz</div><div class="name">è³“å£« GLC</div><div class="type">ä¼‘æ—…è»Š</div></div>
                <div class="car-item" data-b="Lexus" data-m="NX"><div class="brand-tag" style="background:#000;width:56px;font-size:14px;">Lexus</div><div class="name">Lexus NX</div><div class="type">ä¼‘æ—…è»Š</div></div>
                <div class="car-item" data-b="è±ç”°" data-m="Corolla Cross"><div class="brand-tag" style="background:#eb0a1e;width:56px;font-size:14px;">Toyota</div><div class="name">Toyota Corolla Cross</div><div class="type">ä¼‘æ—…è»Š</div></div>
            </div>
        </div>
        <div class="step" id="step2" style="display:none;">
            <div class="step-header">
                <span class="step-num">2</span>
                <span class="step-title">é¸æ“‡æœå‹™</span>
            </div>
            <div class="service-group">
                <div class="service-header">âœ¨ éè†œæœå‹™</div>
                <div class="service-options">
                    <div class="service-opt" data-t="coating" data-n="å–®å±¤é™¶ç“·éè†œ"><span class="name">å–®å±¤é™¶ç“·éè†œ</span><span class="price">æ´½å°ˆå“¡</span></div>
                    <div class="service-opt" data-t="coating" data-n="é›™å±¤å¥—é¤éè†œ"><span class="name">é›™å±¤å¥—é¤éè†œ</span><span class="price">æ´½å°ˆå“¡</span></div>
                    <div class="service-opt" data-t="coating" data-n="é›™å±¤çŸ³å¢¨çƒ¯éè†œ"><span class="name">é›™å±¤çŸ³å¢¨çƒ¯éè†œ</span><span class="price">æ´½å°ˆå“¡</span></div>
                    <div class="service-opt" data-t="coating" data-n="ä¸‰å±¤çŸ³å¢¨çƒ¯éè†œ"><span class="name">ä¸‰å±¤çŸ³å¢¨çƒ¯éè†œ</span><span class="price">æ´½å°ˆå“¡</span></div>
                </div>
            </div>
            <div class="service-group">
                <div class="service-header">ğŸ¨ åŒ…è†œæœå‹™</div>
                <div class="service-options">
                    <div class="service-opt" data-t="wrap" data-n="å…¨è»ŠåŒ…è†œ"><span class="name">å…¨è»ŠåŒ…è†œ</span><span class="price">æ´½å°ˆå“¡</span></div>
                    <div class="service-opt" data-t="wrap" data-n="å…¨è»Šæ”¹è‰²åŒ…è†œ"><span class="name">å…¨è»Šæ”¹è‰²åŒ…è†œ</span><span class="price">æ´½å°ˆå“¡</span></div>
                </div>
            </div>
            <div class="service-group" id="colorGroup" style="display:none;">
                <div class="service-header">ğŸ“Œ æ”¹è‰²è†œæè³ª</div>
                <div class="color-grid">
                    <div class="color-opt" data-t="color" data-n="PETæ”¹è‰²è†œ"><div class="name">PET</div></div>
                    <div class="color-opt" data-t="color" data-n="PVCæ”¹è‰²è†œ"><div class="name">PVC</div></div>
                    <div class="color-opt" data-t="color" data-n="TPUæ”¹è‰²è†œ"><div class="name">TPU</div></div>
                </div>
            </div>
            <div class="service-group">
                <div class="service-header">ğŸ è¿é¢¨é¢åŒ…è†œ</div>
                <div class="service-options">
                    <div class="service-opt" data-t="front" data-n="è¿é¢¨é¢åŒ…è†œ"><span class="name">è¿é¢¨é¢åŒ…è†œ</span><span class="price">æ´½å°ˆå“¡</span></div>
                </div>
            </div>
            <div class="service-group">
                <div class="service-header">ğŸªŸ éš”ç†±ç´™</div>
                <div class="film-grid">
                    <div class="film-opt" data-t="film" data-n="3Mæ¥µé»‘"><div class="name">3M æ¥µé»‘</div><div class="desc">éš±å¯†æ€§æ¥µä½³</div></div>
                    <div class="film-opt" data-t="film" data-n="3Mæ¥µé€"><div class="name">3M æ¥µé€</div><div class="desc">é«˜é€å…‰åº¦</div></div>
                </div>
            </div>
        </div>
    </div>
    <div class="summary" id="summary" style="display:none;">
        <button class="summary-btn" id="showQuote">æŸ¥çœ‹å ±åƒ¹</button>
    </div>
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“‹ å ±åƒ¹å–®</h2>
                <div class="modal-close" id="closeModal">âœ•</div>
            </div>
            <div id="items"></div>
            <div class="modal-total"><span>é ä¼°é‡‘é¡</span><span class="price">è«‹æ´½å°ˆå“¡å ±åƒ¹</span></div>
            <div class="modal-actions">
                <a href="https://line.me/R/ti/p/%40dmsense" class="modal-btn line" target="_blank">ğŸ’¬ LINE å°ˆå“¡å ±åƒ¹</a>
                <a href="tel:04-2452-3533" class="modal-btn phone">ğŸ“ é›»è©±è«®è©¢</a>
            </div>
        </div>
    </div>
    <script>
    const brandColors = {
        'ç‰¹æ–¯æ‹‰':'#e82127','Tesla':'#e82127',
        'BMW':'#0066b1','bmw':'#0066b1',
        'è³“å£«':'#000000','Mercedes':'#000000',
        'Lexus':'#000000','lexus':'#000000',
        'è±ç”°':'#eb0a1e','Toyota':'#eb0a1e',
        'æœ¬ç”°':'#c00c1f','Honda':'#c00c1f',
        'ç¦ç‰¹':'#003478','Ford':'#003478',
        'VW':'#001e50','Volkswagen':'#001e50',
        'ç¦æ–¯':'#001e50',
        'å¥§è¿ª':'#8f0f1f','Audi':'#8f0f1f',
        'Volvo':'#00365d',
        'ä¿æ™‚æ·':'#d6301f','Porsche':'#d6301f',
        'Kia':'#c8102e',
        'ç¾ä»£':'#002c5f','Hyundai':'#002c5f',
        'MG':'#003366',
        'Subaru':'#003696','é€Ÿéœ¸é™¸':'#003696',
        'Mazda':'#c30c1e','é¦¬è‡ªé”':'#c30c1e',
        'Suzuki':'#e60012','éˆ´æœ¨':'#e60012',
        'Nissan':'#c61d2e','æ—¥ç”¢':'#c61d2e',
        'Skoda':'#11457e',
        'Peugeot':'#002395',
        'Land Rover':'#003d29',
        'Jaguar':'#503615',
        'Genesis':'#000',
        'Cadillac':'#943900',
        'Lincoln':'#003399',
        'å…¶ä»–':'#666666'
    };
    
    const db = [
        {"b":"ç‰¹æ–¯æ‹‰","m":"Model 3","t":"è½è»Š"},{"b":"ç‰¹æ–¯æ‹‰","m":"Model Y","t":"ä¼‘æ—…è»Š"},{"b":"ç‰¹æ–¯æ‹‰","m":"Model S","t":"è½è»Š"},{"b":"ç‰¹æ–¯æ‹‰","m":"Model X","t":"ä¼‘æ—…è»Š"},{"b":"ç‰¹æ–¯æ‹‰","m":"Cybertruck","t":"çš®å¡"},
        {"b":"BMW","m":"3 Series","t":"è½è»Š"},{"b":"BMW","m":"3 Series Touring","t":"æ—…è¡Œè»Š"},{"b":"BMW","m":"5 Series","t":"è½è»Š"},{"b":"BMW","m":"5 Series Touring","t":"æ—…è¡Œè»Š"},{"b":"BMW","m":"X3","t":"ä¼‘æ—…è»Š"},{"b":"BMW","m":"X5","t":"ä¼‘æ—…è»Š"},
        {"b":"è³“å£«","m":"C-Class","t":"è½è»Š"},{"b":"è³“å£«","m":"C-Class Estate","t":"æ—…è¡Œè»Š"},{"b":"è³“å£«","m":"E-Class","t":"è½è»Š"},{"b":"è³“å£«","m":"E-Class Estate","t":"æ—…è¡Œè»Š"},{"b":"è³“å£«","m":"GLC","t":"ä¼‘æ—…è»Š"},{"b":"è³“å£«","m":"GLE","t":"ä¼‘æ—…è»Š"},
        {"b":"Lexus","m":"NX","t":"ä¼‘æ—…è»Š"},{"b":"Lexus","m":"RX","t":"ä¼‘æ—…è»Š"},{"b":"Lexus","m":"UX","t":"ä¼‘æ—…è»Š"},
        {"b":"è±ç”°","m":"RAV4","t":"ä¼‘æ—…è»Š"},{"b":"è±ç”°","m":"Corolla Cross","t":"ä¼‘æ—…è»Š"},{"b":"è±ç”°","m":"Altis","t":"è½è»Š"},{"b":"è±ç”°","m":"Alphard","t":"MPV"},{"b":"è±ç”°","m":"Camry","t":"è½è»Š"},
        {"b":"VW","m":"Golf","t":"æ€èƒŒ"},{"b":"VW","m":"Golf Variant","t":"æ—…è¡Œè»Š"},{"b":"VW","m":"Passat Variant","t":"æ—…è¡Œè»Š"},{"b":"VW","m":"Tiguan","t":"ä¼‘æ—…è»Š"},
        {"b":"Volvo","m":"V60","t":"æ—…è¡Œè»Š"},{"b":"Volvo","m":"V90","t":"æ—…è¡Œè»Š"},{"b":"Volvo","m":"XC60","t":"ä¼‘æ—…è»Š"},{"b":"Volvo","m":"XC90","t":"ä¼‘æ—…è»Š"},
        {"b":"å¥§è¿ª","m":"A4 Avant","t":"æ—…è¡Œè»Š"},{"b":"å¥§è¿ª","m":"A6 Avant","t":"æ—…è¡Œè»Š"},{"b":"å¥§è¿ª","m":"Q5","t":"ä¼‘æ—…è»Š"},{"b":"å¥§è¿ª","m":"Q7","t":"ä¼‘æ—…è»Š"},
        {"b":"ä¿æ™‚æ·","m":"Taycan Cross Turismo","t":"æ—…è¡Œè»Š"},{"b":"ä¿æ™‚æ·","m":"Macan","t":"ä¼‘æ—…è»Š"},{"b":"ä¿æ™‚æ·","m":"Cayenne","t":"ä¼‘æ—…è»Š"},
        {"b":"Ford","m":"Focus Wagon","t":"æ—…è¡Œè»Š"},{"b":"Ford","m":"Kuga","t":"ä¼‘æ—…è»Š"},{"b":"Ford","m":"Ranger","t":"çš®å¡"},
        {"b":"Honda","m":"CR-V","t":"ä¼‘æ—…è»Š"},{"b":"Honda","m":"HR-V","t":"ä¼‘æ—…è»Š"},
        {"b":"Kia","m":"Ceed SW","t":"æ—…è¡Œè»Š"},{"b":"Kia","m":"Sportage","t":"ä¼‘æ—…è»Š"},{"b":"Kia","m":"EV6","t":"é›»å‹•è»Š"},
        {"b":"Hyundai","m":"Tucson","t":"ä¼‘æ—…è»Š"},{"b":"Hyundai","m":"Santa Fe","t":"ä¼‘æ—…è»Š"},
        {"b":"MG","m":"MG5","t":"æ—…è¡Œè»Š"},{"b":"MG","m":"HS","t":"ä¼‘æ—…è»Š"},
        {"b":"é€Ÿéœ¸é™¸","m":"Outback","t":"æ—…è¡Œè»Š"},{"b":"é€Ÿéœ¸é™¸","m":"Forester","t":"ä¼‘æ—…è»Š"},
        {"b":"é¦¬è‡ªé”","m":"CX-5","t":"ä¼‘æ—…è»Š"},{"b":"é¦¬è‡ªé”","m":"CX-60","t":"ä¼‘æ—…è»Š"},
        {"b":"Skoda","m":"Octavia Combi","t":"æ—…è¡Œè»Š"},{"b":"Skoda","m":"Superb Combi","t":"æ—…è¡Œè»Š"},{"b":"Skoda","m":"Kodiaq","t":"ä¼‘æ—…è»Š"},
        {"b":"Peugeot","m":"308 SW","t":"æ—…è¡Œè»Š"},{"b":"Peugeot","m":"508 SW","t":"æ—…è¡Œè»Š"},{"b":"Peugeot","m":"3008","t":"ä¼‘æ—…è»Š"},
        {"b":"Land Rover","m":"Range Rover Evoque","t":"è·¨ç•Œ"},{"b":"Land Rover","m":"Discovery","t":"ä¼‘æ—…è»Š"},{"b":"Land Rover","m":"Defender","t":"è¶Šé‡"},
        {"b":"Jaguar","m":"XF Sportbrake","t":"æ—…è¡Œè»Š"},{"b":"Jaguar","m":"F-PACE","t":"ä¼‘æ—…è»Š"},
        {"b":"Genesis","m":"GV70","t":"ä¼‘æ—…è»Š"},{"b":"Genesis","m":"GV80","t":"ä¼‘æ—…è»Š"},
        {"b":"Nissan","m":"X-Trail","t":"ä¼‘æ—…è»Š"},{"b":"Nissan","m":"Kicks","t":"ä¼‘æ—…è»Š"},
        {"b":"Suzuki","m":"Vitara","t":"ä¼‘æ—…è»Š"},{"b":"Suzuki","m":"Jimny","t":"è¶Šé‡"},
        {"b":"å…¶ä»–","m":"å…¶ä»–è»Šæ¬¾","t":"è½è»Š"}
    ];
    
    let car = null, svcs = [], color = null, film = null;
    const search = document.getElementById('search'), results = document.getElementById('results');
    
    function getBrandTag(brand) {
        const color = brandColors[brand] || '#666';
        const short = brand.length > 5 ? brand.substring(0,4)+'.' : brand;
        return `<div class="brand-tag" style="background:${color};width:48px;font-size:13px;">${short}</div>`;
    }
    
    search.oninput = () => {
        const q = search.value.toLowerCase().trim();
        if (!q) { results.classList.remove('show'); return; }
        const r = db.filter(c => (c.b+c.m+c.t).toLowerCase().includes(q)).slice(0, 12);
        results.innerHTML = r.map(c => `<div class="search-item" data-b="${c.b}" data-m="${c.m}">${getBrandTag(c.b)}<div class="info"><div class="name">${c.b} ${c.m}</div><div class="type">${c.t}</div></div></div>`).join('') || '<div style="padding:20px;text-align:center;color:#999;">æ‰¾ä¸åˆ°è»Šå‹</div>';
        document.querySelectorAll('.search-item').forEach(i => i.onclick = () => selCar(i.dataset.b, i.dataset.m));
        results.classList.add('show');
    };
    
    document.querySelectorAll('.car-item').forEach(i => i.onclick = () => selCar(i.dataset.b, i.dataset.m));
    
    function selCar(b, m) { 
        car = {b,m}; 
        document.querySelectorAll('.car-item').forEach(i => i.classList.remove('selected')); 
        const el = document.querySelector(`.car-item[data-m="${m}"]`); 
        if(el) el.classList.add('selected'); 
        document.getElementById('step2').style.display = 'block'; 
        document.getElementById('summary').style.display = 'block'; 
        document.getElementById('step2').scrollIntoView({behavior:'smooth'}); 
        results.classList.remove('show'); 
    }
    
    document.querySelectorAll('.service-opt').forEach(o => o.onclick = () => { const n = o.dataset.n; if (o.classList.contains('selected')) { o.classList.remove('selected'); svcs = svcs.filter(s => s.n !== n); } else { o.classList.add('selected'); svcs.push({t:o.dataset.t,n}); } document.getElementById('colorGroup').style.display = svcs.some(s => s.n === 'å…¨è»Šæ”¹è‰²åŒ…è†œ') ? 'block' : 'none'; });
    document.querySelectorAll('.color-opt').forEach(o => o.onclick = () => { document.querySelectorAll('.color-opt').forEach(x => x.classList.remove('selected')); o.classList.add('selected'); color = o.dataset.n; });
    document.querySelectorAll('.film-opt').forEach(o => o.onclick = () => { document.querySelectorAll('.film-opt').forEach(x => x.classList.remove('selected')); o.classList.add('selected'); film = o.dataset.n; });
    document.getElementById('showQuote').onclick = () => { if (!car) return alert('è«‹é¸æ“‡è»Šå‹'); if (svcs.length === 0) return alert('è«‹é¸æ“‡æœå‹™'); const items = [...svcs]; if(color) items.push({t:'color',n:color}); if(film) items.push({t:'film',n:film}); document.getElementById('items').innerHTML = items.map(i => `<div class="modal-item"><span>${i.n}</span><span>æ´½å°ˆå“¡</span></div>`).join(''); document.getElementById('modal').classList.add('show'); };
    document.getElementById('closeModal').onclick = () => document.getElementById('modal').classList.remove('show');
    document.getElementById('modal').onclick = (e) => { if(e.target.id === 'modal') document.getElementById('modal').classList.remove('show'); };
    document.onclick = (e) => { if(!e.target.closest('.search-box')) results.classList.remove('show'); };
    </script>
</body>
</html>